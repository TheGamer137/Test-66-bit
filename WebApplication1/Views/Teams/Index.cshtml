@{
    ViewData["NotPlayers"] = "Not players";
}

@model IEnumerable<Team>

<br />
<div class="container row p-0 m-0">
    <div class="col-6">
        <h2 class="text-info">Команды</h2>
    </div>
    <div class="col-12 border p-3">
        <table class="table table-striped table-bordered" style="width:100%">
            @if (Model.Count() > 0)
            {
                <thead>
                    <tr class="h5 text-center">
                        <th class="w-25">Название</th>
                        <th>Игроки</th>
                    </tr>
                </thead>
                @foreach (Team t in Model)
                {
                    <tr class="font-weight-bold">
                        <td>@t.Name</td>
                        <td>
                            @if (t.Players?.Count() > 0)
                            {
                                @t.Players?.Count();
                            }
                            else
                            {
                                @ViewData["NotPlayers"]
                            }
                        </td>
                    </tr>
                    @if (t.Players != null && t.Players?.Count() > 0)
                    {
                        @foreach (var player in t.Players)
                        {
                            <tr>
                                <td colspan="2" class="text-center">
                                    @player.Country, @player.Name @player.Surname
                                </td>
                            </tr>
                        }
                    }
                }
            }
            else
            {
                <tr>Пока никаких команд не добавлено.</tr>
            }
        </table>
    </div>
</div>